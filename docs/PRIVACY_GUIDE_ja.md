# 🔒 Kindle TTS Reader - プライバシー&データ管理ガイド

**バージョン**: 1.1.0
**最終更新日**: 2025年12月20日

---

## 📋 目次

1. [プライバシー概要](#プライバシー概要)
2. [データ収集](#データ収集)
3. [ローカル学習システム (v1.1.0+)](#ローカル学習システム-v110)
4. [暗号化とセキュリティ](#暗号化とセキュリティ)
5. [あなたのプライバシー権利](#あなたのプライバシー権利)
6. [データの管理](#データの管理)
7. [サードパーティサービス](#サードパーティサービス)
8. [GDPR準拠](#gdpr準拠)
9. [子供のプライバシー](#子供のプライバシー)
10. [プライバシー慣行の変更](#プライバシー慣行の変更)

---

## 🎯 プライバシー概要

### 私たちの約束

**Kindle TTS Readerはプライバシー第一の原則で構築されています：**

- ✅ **ユーザーアカウントなし** - 登録やログイン不要
- ✅ **分析なし** - 使用パターンの追跡ゼロ
- ✅ **広告なし** - 広告、広告ネットワーク、行動プロファイリングなし
- ✅ **ローカル処理** - ほとんどの操作はデバイス上で実行
- ✅ **透明性** - 監査のための完全なオープンソースコード
- ✅ **ユーザーコントロール** - 共有するデータを決定

---

### プライバシー哲学

私たちは以下を信じています：

1. **読書はプライベート** - 本のタイトル、読書進捗、習慣はあなただけのもの
2. **暗号化は必須** - 保存されるすべてのデータは暗号化される必要がある
3. **最小限のデータ** - 絶対に必要なもののみを収集
4. **削除可能** - ワンタップですべてのデータを削除可能
5. **透明性** - 隠れたデータ収集なし

---

## 📊 データ収集

### 収集するデータ

| データタイプ | 収集？ | 目的 | 保存場所 | 共有？ |
|-----------|-------|------|---------|--------|
| **画面キャプチャ** | ✅ 一時的 | OCRテキスト抽出 | RAMのみ（保存されない） | ❌ 決してない |
| **OCRテキスト** | ✅ はい | テキスト読み上げ | メモリキャッシュ | ⚠️ Gemini APIのみ（信頼度 < 0.7の場合） |
| **学習パターン** | ✅ オプション (v1.1.0+) | OCR精度向上 | 暗号化ローカルストレージ | ❌ 決してない |
| **本のメタデータ** | ❌ いいえ | N/A | N/A | ❌ 決してない |
| **読書履歴** | ❌ いいえ | N/A | N/A | ❌ 決してない |
| **個人情報** | ❌ いいえ | N/A | N/A | ❌ 決してない |
| **デバイス情報** | ❌ いいえ | N/A | N/A | ❌ 決してない |
| **クラッシュログ** | ❌ いいえ | N/A | N/A | ❌ 決してない |

---

### 収集しないデータ

**以下は絶対に収集しません：**

- 📚 本のタイトルまたは著者
- 📖 読書進捗またはブックマーク
- 👤 名前、メール、またはユーザーID
- 📱 デバイス識別子（IMEI、MACアドレスなど）
- 📍 位置情報
- 📞 連絡先またはカレンダー
- 💳 支払い情報
- 🌐 閲覧履歴

---

### データの流れ

**画面キャプチャ → OCR → TTSワークフロー：**

```
1. 画面キャプチャ（MediaProjection API）
   ↓
   画像を一時的にRAMに保存
   ↓
2. OCR処理（ML Kit）
   ↓
   テキスト抽出 + 信頼度スコア
   ↓
3. 信頼度チェック
   ├─ 高い（≥0.7）: 直接使用 → TTS
   └─ 低い（<0.7）: テキストをGemini APIに送信 → 補正テキスト → TTS
   ↓
4. 学習パターン（有効な場合）
   ↓
   補正をローカルに保存（暗号化）
   ↓
5. メモリクリア
   ↓
   画像と一時データを破棄
```

**重要ポイント：**
- 画像はデバイスから離れない
- 信頼度が低いテキストのみAPIに送信
- 学習データはローカルのみに保存
- 一時データは使用後にクリア

---

## 🧠 ローカル学習システム（v1.1.0+）

### ローカル学習とは？

ローカル学習システムは、承認した補正を記憶することでOCR精度を向上させます。インターネットなしで完全にデバイス上で動作します。

---

### 動作の仕組み

**シナリオ例：**

1. **最初の遭遇：**
   - OCRが抽出：「この本は面曰い」
   - Geminiが補正：「この本は面白い」
   - 補正を確認
   - **パターンをローカルに保存**：「面曰い」→「面白い」

2. **将来の遭遇：**
   - OCRが再び「面曰い」を抽出
   - アプリがパターンを認識（95%類似性）
   - **API呼び出しなしで自動補正**：「面白い」
   - より高速 + オフライン + 無料

---

### 学習データの詳細

**保存されるもの：**

```json
{
  "originalText": "面曰い",
  "correctedText": "面白い",
  "language": "ja",
  "confidence": 0.95,
  "timestamp": 1703088625000,
  "useCount": 3
}
```

**保存されないもの：**
- 本のタイトル
- ページ全体のコンテンツ
- あなたのID
- 読書コンテキスト

**保存場所：**
```
/data/data/com.kindletts.reader/shared_prefs/local_corrections
```

**暗号化：** AES256-GCM with Android Keystore

---

### プライバシー保護

✅ **同意が必要** - 初回使用時に明示的なオプトイン
✅ **暗号化ストレージ** - ハードウェアキーを使用したAES256-GCM
✅ **LRUキャッシュ** - 最大100パターン（最も古いものが自動削除）
✅ **デバイスのみ** - 同期またはアップロードされない
✅ **バックアップ除外** - Google Driveバックアップに含まれない
✅ **ワンタップ削除** - すべてのパターンを即座に消去

---

## 🔐 暗号化とセキュリティ

### 暗号化標準

**アルゴリズム：** AES256-GCM（Advanced Encryption Standard、256ビット、Galois/Counter Mode）

**主な機能：**
- 軍事グレードの暗号化
- 認証暗号化（改ざん防止）
- 業界標準（NIST承認）

---

### 鍵管理

**Android Keystore** - ハードウェアバックの安全な鍵保存

**動作の仕組み：**
1. デバイス上で暗号化鍵を生成
2. 鍵をAndroid Keystore（TEE - Trusted Execution Environment）に保存
3. 鍵はアプリコードまたはユーザーからアクセス不可
4. アプリのアンインストール時に鍵を削除

**セキュリティレベル：**
- ✅ ルートアクセスから保護
- ✅ 物理的な抽出から保護
- ✅ 工場出荷時リセットで破棄
- ✅ 対応デバイスでハードウェアバック（例：Titan Mチップ）

---

### データ保護

**EncryptedSharedPreferences** - AndroidX Security Cryptoライブラリ

**以下から保護：**
- ❌ ルートアクセスの盗聴
- ❌ 悪意のあるアプリによるファイル読み取り
- ❌ USBデバッグ抽出
- ❌ ADBバックアップ攻撃
- ❌ ファイルシステムブラウザアクセス

**攻撃者が以下を取得しても：**
- ルート権限
- 物理デバイスアクセス
- ファイルシステムダンプ

**以下なしでは復号化できません：**
- デバイス固有のハードウェアキー
- セキュアブートチェーン検証

---

### セキュリティのベストプラクティス

**アプリが従うもの：**

1. **最小権限の原則**
   - 必須権限のみを要求
   - 不要なネットワークアクセスなし
   - バックグラウンド位置情報なし

2. **セキュアコーディング**
   - 入力検証
   - SQLインジェクション防止（該当なし - SQLなし）
   - XSS保護（該当なし - ユーザー入力を伴うウェブビューなし）

3. **定期的な更新**
   - セキュリティパッチを迅速に適用
   - 依存関係の更新を監視
   - 脆弱性スキャン

4. **オープンソース**
   - 完全なコード透明性
   - コミュニティセキュリティ監査
   - バグバウンティプログラム（計画中）

---

## 🛡️ あなたのプライバシー権利

### GDPR権利（EUユーザー）

GDPR（一般データ保護規則）の下で、以下の権利があります：

1. **アクセス権**
   - 設定ですべての学習パターンを表示
   - 統計を確認（数、サイズ、最終更新）

2. **訂正権**
   - 学習パターンは新しい補正で自動更新
   - 新しいパターンを防ぐために学習を無効化可能

3. **消去権**（「忘れられる権利」）
   - ワンタップですべての学習データを削除
   - Android設定経由で完全なアプリデータリセット

4. **データポータビリティ権**
   - 学習パターンのエクスポート（v1.2計画中機能）
   - 新しいデバイスへのパターンインポート（v1.2計画中）

5. **処理制限権**
   - 設定で学習機能を無効化
   - アプリは学習なしで動作し続ける

6. **異議権**
   - 初回使用時に同意を拒否
   - 設定でいつでも同意を撤回

7. **人間によるレビュー権**
   - 該当なし（あなたに影響する自動意思決定なし）

---

### CCPA権利（カリフォルニアユーザー）

CCPA（カリフォルニア消費者プライバシー法）の下で、以下の権利があります：

1. **知る権利**
   - このプライバシーガイドがすべてのデータ慣行を開示
   - 設定で学習データを表示

2. **削除権**
   - 設定またはアプリのアンインストール経由ですべてのデータを削除

3. **販売のオプトアウト権**
   - 該当なし - **あなたのデータを販売することは決してありません**

4. **非差別権**
   - 学習を有効にするかどうかにかかわらずアプリは完全に動作
   - データ共有によってロックされる機能なし

---

## ⚙️ データの管理

### 学習データの表示

**統計にアクセス：**

1. Kindle TTS Readerを開く
2. ⚙️（設定アイコン）をタップ
3. **学習パターン統計**に移動

**表示される情報：**
```
学習パターン数: 47
最終更新: 2025-12-20 14:30:25
ストレージ使用量: 12 KB
```

---

### 学習の有効化/無効化

**学習機能のトグル：**

**パス：** 設定 → ローカル学習機能 → トグルスイッチ

**有効（ON）の場合：**
- ✅ 補正から学習
- ✅ 時間とともに精度が向上
- ✅ より高速な処理（キャッシュされたパターン）
- ✅ API呼び出しを削減

**無効（OFF）の場合：**
- ✅ パターンストレージなし
- ✅ 完全に機能する
- ✅ ML Kit + Gemini APIのみ使用
- ⚠️ わずかに遅い（より多くのAPI呼び出し）

---

### 学習データの削除

**完全なデータ削除：**

**パス：** 設定 → すべてのデータを削除 → 確認

**何が起こるか：**
1. すべての100パターンが永久に削除される
2. 暗号化鍵が破棄される
3. ストレージスペースが解放される
4. 元に戻すことはできない

**削除するタイミング：**
- デバイスを売却または譲渡する前
- 誤ったパターンが蓄積しすぎた
- プライバシーの懸念
- 新しい本のジャンルで新規開始

---

### すべてのアプリデータをリセット

**核オプション - すべてを削除：**

**パス：** Android設定 → アプリ → Kindle TTS Reader → ストレージ → データを削除

**削除されるもの：**
- 学習パターン
- アプリ設定
- 同意の設定
- キャッシュされた補正
- すべての一時データ

**残るもの：**
- 何もない - 完全なリセット

**使用ケース：**
- 重大なバグのトラブルシューティング
- 完全なプライバシーワイプ
- 売却のためのデバイス準備

---

## 🌐 サードパーティサービス

### Gemini API（Google）

**目的：** AI駆動のOCRテキスト補正

**送信されるデータ：**
- ✅ OCR抽出テキストのみ（信頼度 < 0.7の場合）
- ❌ 送信されないもの：画像、本のメタデータ、ユーザーID

**リクエスト例：**
```json
{
  "contents": [{
    "parts": [{"text": "Please correct: この本は面曰い"}]
  }]
}
```

**Googleのデータ処理：**
- [Google Cloud利用規約](https://cloud.google.com/terms)に準拠
- APIリクエストは請求/診断のためにログ記録
- 公開モデルのトレーニングには使用されない（Google Cloud Data Processing Agreementによる）
- 30日間保持、その後自動削除

**オプトアウト方法：**
- オフライン専用モードを使用（v1.2計画中）
- 現在：学習パターンがAPI呼び出しを削減

---

### Google ML Kit（デバイス上）

**目的：** OCRテキスト認識

**送信されるデータ：**
- ❌ 何もない - 完全にオフライン

**処理：**
- 100%デバイス上
- ネットワークリクエストなし
- Googleへのテレメトリーなし

**プライバシー保証：**
- 画像はデバイスから離れない
- テキストはローカルで処理

---

### Androidシステムサービス

**TextToSpeech（TTS）API：**
- デバイス上での音声合成
- Googleへのデータ送信なし
- ローカルにダウンロードされた音声パックを使用

**AccessibilityService API：**
- システムレベルの権限
- ページめくりジェスチャーにのみ使用
- データ収集なし

**MediaProjection API：**
- 画面キャプチャ権限
- 一時的なメモリ内キャプチャ
- スクリーンショットは保存されない

---

## ✅ GDPR準拠

### コンプライアンスチェックリスト

Kindle TTS Reader v1.1.0はGDPRに完全に準拠：

- ✅ **合法的根拠：** ユーザー同意（第6条）
- ✅ **同意メカニズム：** 明示的なオプトインダイアログ
- ✅ **データ最小化：** 必須データのみ収集（第5条）
- ✅ **目的制限：** データはOCR改善のみに使用（第5条）
- ✅ **保存制限：** 最大100パターンのLRUキャッシュ（第5条）
- ✅ **正確性：** 新しい補正で自動更新（第5条）
- ✅ **完全性と機密性：** AES256-GCM暗号化（第32条）
- ✅ **説明責任：** このプライバシーポリシー + GDPR固有のポリシー（第5条）
- ✅ **透明性：** 明確な同意ダイアログ + プライバシーポリシー（第12-14条）
- ✅ **データ主体の権利：** 完全なアクセス、削除、ポータビリティ（第15-20条）
- ✅ **設計によるデータ保護：** プライバシー第一のアーキテクチャ（第25条）
- ✅ **データ転送なし：** すべての処理はデバイス上（第V章該当なし）

---

### 同意管理

**初回同意（v1.1.0+）：**

アプリ初回起動時にユーザーに表示：

```
┌─────────────────────────────────────────┐
│   ローカル学習機能について                  │
│                                         │
│   このアプリはOCR精度を向上させるため、      │
│   あなたの修正内容から学習できます。         │
│                                         │
│   ✅ すべてのデータは端末内に保存           │
│   ✅ AES256-GCM暗号化で完全保護            │
│   ✅ いつでもオン/オフ切り替え可能           │
│   ✅ ワンタップで全データ削除可能            │
│                                         │
│   [同意する]  [同意しない]                │
└─────────────────────────────────────────┘
```

**有効な同意の特徴：**
- ✅ **自由に与えられる** - 同意なしでもアプリは動作
- ✅ **特定** - 明確な目的が述べられている
- ✅ **情報に基づく** - 完全な開示が提供される
- ✅ **明確** - 明示的なアクション（ボタンタップ）が必要
- ✅ **撤回可能** - 設定でいつでも無効化可能

---

## 👶 子供のプライバシー

### COPPA準拠（米国）

**COPPA**（子供のオンラインプライバシー保護法）は13歳未満のユーザーに適用されます。

**私たちの立場：**
- アプリは13歳未満の子供からデータを意図的に収集しない
- 年齢確認は実装されていない（アプリは年齢を収集しない）
- 保護者は子供の使用を監督すべき

**推奨事項：**
- 保護者はこのプライバシーガイドをレビューすべき
- Androidデバイスで保護者による制限を有効化
- 幼い子供のアプリ使用を監視

---

### GDPR子供保護（EU）

GDPR第8条の下で：

- 16歳未満の子供（または加盟国によって13-16歳）はデータ処理に保護者の同意が必要
- 16歳未満のユーザーには保護者の監督を推奨
- 保護者は子供に代わってデータ権を行使可能

---

## 🔄 プライバシー慣行の変更

### 通知ポリシー

**プライバシー慣行が重要に変更された場合：**

1. **アプリ内通知** - 次回アプリ起動時にアラート
2. **プライバシーポリシー更新** - 新しいバージョンを公開
3. **同意の再収集** - 新機能に必要な場合
4. **変更ログ** - リリースノートに詳細記載

**マイナーな変更**（例：明確化、誤字）：
- プライバシーポリシーのみ更新
- アクティブな通知なし

---

### バージョン履歴

| バージョン | 日付 | 変更 |
|---------|------|------|
| **1.1.0** | 2025-12-18 | 暗号化を伴うローカル学習システムを追加 |
| **1.0.0** | 2025-11-XX | 初回リリース - 基本的なOCR + TTS |

---

## 📞 プライバシーに関する質問と連絡先

### データ保護責任者

**メール：** privacy@smartnavipro.dev

**応答時間：** プライバシー問い合わせに対して48時間以内

---

### プライバシーに関する懸念

**以下について懸念がある場合：**
- データ収集慣行
- セキュリティ脆弱性
- GDPR準拠
- 同意管理

**お問い合わせ：**
- 📧 メール：privacy@smartnavipro.dev
- 🐛 GitHub Issues（非機密事項）：https://github.com/smartnavipro-dev/kindle-tts-reader/issues
- 🔒 セキュリティ問題：security@smartnavipro.dev（機密）

---

### 規制当局

**EUユーザー：**
- あなたの地域のデータ保護当局
- 完全なリスト：https://edpb.europa.eu/about-edpb/board/members_en

**カリフォルニアユーザー：**
- カリフォルニア州司法長官：https://oag.ca.gov/privacy

---

## 📚 関連リソース

- 📄 [完全なプライバシーポリシー](../PRIVACY_POLICY_ja.md)
- 📄 [Privacy Policy (English)](../PRIVACY_POLICY.md)
- 📖 [セットアップガイド](SETUP_GUIDE_ja.md)
- ❓ [拡張FAQ](FAQ_EXTENDED_ja.md)
- 🔧 [トラブルシューティングガイド](TROUBLESHOOTING_ja.md)

---

## ✅ プライバシー約束

**私たちの約束：**

1. **透明性** - 隠れたデータ収集なし
2. **コントロール** - あなたがデータを所有
3. **セキュリティ** - 軍事グレードの暗号化
4. **ミニマリズム** - 必要なもののみを収集
5. **尊重** - あなたのプライバシーは交渉不可

**決して行わないこと：**

1. ❌ データを販売
2. ❌ 同意なしで共有
3. ❌ 不必要に収集
4. ❌ ダークパターンを使用
5. ❌ 慣行を隠す

---

**あなたのプライバシー、あなたのコントロール。🔒**

---

*最終更新: 2025年12月20日*
*ドキュメントバージョン: 1.0*
*アプリバージョン: 1.1.0*
*GDPR準拠確認: 2025年12月20日*
